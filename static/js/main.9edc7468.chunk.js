(this["webpackJsonpreact-todos-manager"]=this["webpackJsonpreact-todos-manager"]||[]).push([[0],{13:function(e,t,n){e.exports=n(29)},18:function(e,t,n){},19:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(4),c=n.n(r),u=(n(18),n(10)),i=(n(19),n(20)),l=function(e){var t=e.addTodo,n=Object(o.useState)(""),r=Object(u.a)(n,2),c=r[0],l=r[1],d=Object(o.useState)(!1),s=Object(u.a)(d,2),m=s[0],f=s[1];return a.a.createElement("div",null,a.a.createElement("form",{className:"input-block__form",onSubmit:function(e){if(e.preventDefault(),0!==c.length){var n={value:c,done:!1,id:i(),deleteTime:0};l(""),t(n)}}},a.a.createElement("input",{type:"text",className:"input-block__form-input",placeholder:"Add new task",value:c,onChange:function(e){return l(e.target.value)},onFocus:function(){return f(!0)},onBlur:function(){return f(!1)}}),a.a.createElement("button",{className:c.length>0?"input-block__form-button button-active":m?"input-block__form-button button-focused":"input-block__form-button"},"Add")),a.a.createElement("div",{className:c.length>0||m?"underline-focused":"underline"}))},d="ADD_TODO",s="REMOVE_TODO",m="DELETE_TODO",f=n(2),b=Object(f.b)(null,(function(e){return{addTodo:function(t){return e(function(e){return{type:d,todo:e}}(t))}}}))(l),_=(n(28),a.a.memo((function(e){var t=e.value,n=e.done,r=e.id,c=e.deleteTime,u=e.removeTodo,i=e.deleteTodo,l=e.todosList;Object(o.useEffect)((function(){localStorage.setItem("todosList",JSON.stringify(l.filter((function(e){return!e.done}))))}),[l]);var d=Object(o.useRef)();return a.a.createElement("div",{className:n?"todo todo-removed":"todo"},a.a.createElement("button",{className:n?"todo__button-checked todo__button":"todo__button",onClick:function(){if(u(r),n)clearTimeout(d.current);else{var e=setTimeout((function(){return i(r)}),6e4);d.current=e}}},n?a.a.createElement("img",{className:"todo__button-img",src:"./img/tick.svg",alt:"success"}):null),a.a.createElement("span",{className:"todo__value ".concat(n?"todo__checked":null)},t),a.a.createElement("span",{className:n?"todo__date todo__date-vizible":"todo__date"},"".concat(["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"][new Date(c).getMonth()]," \n          ").concat(new Date(c).getDate(),", \n          ").concat(new Date(c).getFullYear())))}))),v=Object(f.b)((function(e){return{todosList:e.todosList}}),(function(e){return{removeTodo:function(t){return e(function(e){return{type:s,id:e}}(t))},deleteTodo:function(t){return e(function(e){return{type:m,id:e}}(t))}}}))(_),p=function(e){var t=e.todosList;return a.a.createElement("div",{className:"todos-list"},t.map((function(e){var t=e.value,n=e.done,o=e.id,r=e.deleteTime;return a.a.createElement(v,{value:t,done:n,id:o,deleteTime:r,key:o})})))},E=Object(f.b)((function(e){return{todosList:e.todosList}}),null)(p);var g=function(){return a.a.createElement("div",{className:"wrapper"},a.a.createElement("h1",{className:"wrapper__title"},"Task Manager"),a.a.createElement("div",{className:"todos"},a.a.createElement("h1",{className:"todos__title"},"Work"),a.a.createElement(b,null),a.a.createElement(E,null)))},O=n(6),T=n(5),N={todosList:JSON.parse(localStorage.getItem("todosList"))||[]},h=Object(T.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{todosList:[t.todo].concat(Object(O.a)(e.todosList))};case s:var n=Object(O.a)(e.todosList.map((function(e){return e.id===t.id&&(e.done=!e.done,0===e.deleteTime?e.deleteTime=Date.now():e.deleteTime=0),e}))).sort((function(e,t){return e.deleteTime-t.deleteTime}));return{todosList:n};case m:return{todosList:Object(O.a)(e.todosList).filter((function(e){return e.id!==t.id}))};default:return e}}));c.a.render(a.a.createElement(f.a,{store:h},a.a.createElement(g,null)),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.9edc7468.chunk.js.map